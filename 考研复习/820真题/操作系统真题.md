[820冲刺资料勘误汇总](https://docs.qq.com/doc/DRUdKd0pMR3pLVkFZ?is_no_hook_redirect=1)

## 2009 408

第五题，问完全二叉树最多的结点数，第六层有八个叶结点，那么有 $24$ 个非叶结，一共可以出 $48$ 个叶子结点。

第十题
若数据元素序列 $11,12,13,7,8,9,23,4,5$ 是某种排序方法第二趟排序后的结果，则排序算法是插入排序。
插入排序可以在首确定一个连续的有序序列，如果是归并排序，则会确定若干连续的序列。

## 2010 408
第五题
设树中总结点树为 $N$, 则各结点的度之和等于 $N-1$.

第七题
无向图有 $7$ 个顶点，要保证图在任意情况下都连通
首先将 $G$ 的任意 $6$ 个结点构成完全连通子图 $\frac{n(n-1)}{2}=15$ 边，再任意添一条边链接第七个结点，即 $16$ 条.

第九题
折半查找失败的最大失败次数和最大成功次数是判定树的高度，通常画出判定树求解。

第十题
快速排序的递归次数跟分区划分的平衡性有关，如果分区划分平衡，则需要的次数少，否则需要的次数多，但是跟处理分区的先后顺序无关。

第二十四题
设备分配是系统中设置的数据结构实现的，不需要创建新进程。

## 2002 年
操作系统不会考虑容错性。
处于运行态的进程不会被挂起，只有处于阻塞和就绪的可能被挂起，处于阻塞态的不能被调度。
在单道批处理系统中不需要对换技术，但是需要**重定位，重存储保护**技术。
死锁系统的资源数量指的是**当前**最少需要的数量，而不是一共需要多少，另外还需要考虑题设问的是一定不发生死锁还是处于安全状态（有一个安全序列）。

伙伴系统分配:
1. 整个可分配的分区大小 $2^u$
2. 需要的分区大小为 $2^{u-1}< s \leq 2^u$ 时，把整个块分配给进程即可
3. 若 $s \leq 2^{u-1}-1$ ,对块进行二等分，再比较，直到分配。
注意分配的块的大小只能是 $2$ 的倍数，因此会有内部碎片。

## 820 25 模拟一

哈希表查找失败的计算方法. 即对所有格子找它后面最近的空格子或者表尾的距离, 包括它自己格子的一个, 加起来除以**表长**.

注意对树的后根遍历等价于转换为二叉树后的中序遍历.

对序列 `56,23,78,92,67,19,34,11,37,57`

操作方法是, 先从右边找第一个小于 `56` 的数，将 `56` 替换之, 然后从左边找第一个大于的, 换到对应的位置, 再依次进行, 知道两个指针相等.

第一次替换 `37` 换到 `56`, 是 `37,23,78,92,67,19,34,11,37,57`.
第二次替换 `78` 换到 `37`, 是 `37,23,78,92,67,19,34,11,78,57`.
第三次替换 `11` 换到 `78`, 是 `37,23,11,92,67,19,34,11,78,57`
第四次替换 `92` 换到 `11`, 是 `37,23,11,92,67,19,34,92,78,57`
第五次替换 `34` 换到 `92`, 是 `37,23,11,34,67,19,34,92,78,57`
第六次替换 `67` 换到 `34`, 是 `37,23,11,34,67,19,67,92,78,57`
第七次替换 `19` 换到 `67`, 是 `37,23,11,34,19,19,67,92,78,57`
最后再把 `56` 换到 `19` 的位置, 是 `37,23,11,34,19,56,67,92,78,57`
再递归排序即可.

## 820 25 模拟二

覆盖技术是给**单一连续分配存储**使用的, 所谓覆盖就是把一个大的程序划分为几个小的覆盖段.

读盘次数可能会因为 `FCB` 是否在内存而不同, 不在加一次, 做题时建议都写上.

使用 `CLOCK` 算法时要使用指针, 指针移动条件是, **置换页面后**自动移动一位, 即, 指针置换后指向的是被置换的位置的下一个位置,如果没有缺页就不移动.

顺序表是物理结构(线性表才是逻辑结构), 二叉树是**逻辑结构**

## 820 25 模拟三

磁盘读取一块数据到缓冲区用时 $80 \mu s$, 从缓冲区到用户区用时 $40\mu s$, $CPU$ 处理一块用时 $30 \mu s$.

处理 $10$ 块数据，单缓冲区用时 $1230 \mu s$, 双缓冲用时 $870 \mu s$.

这种题可以先推前两个个的用时, 后面的用时便是第一个和第二个的差值加起来.

单缓冲的情况:

处理一块: 用时 `80+40+30=150`.
处理两块, 只有读取到用户区后才能再写缓冲区, 即第一块处理完时还需要等 $50 \mu s$ ,即一共需要 `80+40+30+50+70=270`.
因此后面是 `230-150=120` 处理一块.
所以总时间是 `150 + 9 * 120 = 1230`.

双缓冲的情况:

处理一块 `150`.
处理两块，写完之后就可以直接写第二块, 也就是第一块处理完时还需要等 `10`, 即一共需要 `150+10+70 = 230`, 因此后面是 `80` 处理一块.
总时间是 `150 + 80 * 9 = 870`.

Os 大题 2

为什么物理地址以柱面号为高地址而非是磁盘号

以柱面号为高地址可以优先在柱面内依次编址, 一个柱面通常共用一个磁头, 一个磁头在每个盘面上都有并列的磁臂, 可以直接从相邻磁臂上获得相邻数据而不必移动磁臂, 若以盘面号为高地址则会导致相邻数据在相邻磁道上依次存放，读取时候需要移动磁臂.

Ds 选择 8

十字链表: 结合了邻接表和逆邻接表, **便于查找顶点的度**.
邻接多重表: 解决了无向图一条边需要存储两次的问题.

Ds 填空

$n$ 个数据元素构成的 $huffman$ 树的非叶子节点有 $n-1$ 个. (数据元素)

快速排序的辅助空间可以用栈或队列实现.

Ds 大题

散列表的 $P$ 是小于**等于**表长的最小素数, 因此可以等于表长.

将 $AOV$ 网转换为 $AOE$ 网, 考前练习一下

在 $AOV$ 中指向一样的边，在 $AOE$ 网中也指向同一节点

## 820 2023 年

![[Pasted image 20241021202849.png]]

索引查找是静态查找，哈希查找是**动态查找**.

![[Pasted image 20241021204600.png]]

最后找出来关键路径是 `cfh` 或 `c,b,e, h`

![[Pasted image 20241022212606.png]]

高响应比优先若是同时到达，先选编号小的开始运行.


## 820 2022 年

![[Pasted image 20241019163606.png]]

系统调用**不一定**会引起进程切换.

![[Pasted image 20241019163619.png]]

单道批处理不需要**对换**技术.

![[Pasted image 20241019165806.png]]

这里的最少资源问的是系统现在最少要有的资源数量，只需要找到一个安全序列即可.

假设现在只有 `1` 个, 先分配给 ` P2 `, 收回一个, 现在还有 `2` 个，再分配给 `P1`, 收回一个，现在有 `3` 个，然后分给 `P4` 需要最少五个，也就是还需要 `2` 个，因此最少需要 `3` 个.

![[Pasted image 20241020172300.png]]

`0XC04004` 可得页目录号 `3`, 页表号 `4`, 因此先查目录第三块，地址是 `0XFAA` (后 12 位是标志位). 在查页表的第四个，得到页框号 `0X92F`. 因此物理地址是 `0X92F004`.

# 820 2021 年

![[Pasted image 20240918134932.png]]

1. 用**顺序**存储方式
2. 索引表数据元素的值**块间有序**，块内无需,
3. 二分查找适用于**有序顺序结构**.

![[Pasted image 20240918135239.png]]

顺序存要存 5 个结点，即 $20$.

![[Pasted image 20240918143506.png]]

设 $n=2^k$, $f(2^k)=2f(2^{k-1})+O(2^k)=2\left[ 2f(2^{k-2})+O(2^{k-1})+O(2^k) \right]$. 
$2^kf(1)+2^kO(1)+2^{k-1}O(2)+\dots+O(2^k)=2^k\log 2^k=O(n\log n)$

![[Pasted image 20241019135025.png]]

考前再练习一下.

![[Pasted image 20241019141904.png]]

多级页表地址转换过程图:

![[Pasted image 20241019141845.png]]

# 820 2020 年

![[Pasted image 20241018211234.png]]


![[Pasted image 20241018211419.png]]

此题插入 $39$ 后，实际插入位置在失衡节点 $6$ 的右儿子的右子树，因此是 $\mathbb{RR}$ 型失衡.


![[Pasted image 20240918022447.png]]

通过**中断屏蔽**控制中断优先级.
提供**Wakeup**原语.

>[!note] 
>活动就绪到静止就绪: `suspend` 原语。
执行到就绪: `block` 原语。
静止就绪到活动就绪: `active` 原语。
阻塞到就绪: `wakeup` 原语。

![[Pasted image 20240918023757.png]]


文件目录是**FCB**的有序集合.

![[Pasted image 20240918023818.png]]

磁盘转速为 $100$ 转一秒, 即一转是 $\frac{1}{100}$ 秒即 $10ms$.
磁盘访问时间等于**寻道时间**+ **旋转延迟时间**+**传输时间**.

其中寻道时间只计算一次, 即 $10ms$.
旋转延迟时间固定为 $\dfrac{1}{2T}$. 其中 $\frac{1}{T}$ 就是旋转一圈的时间, 因此这里的旋转延迟时间是 $\frac{1}{2}\times 10ms = 5ms$. 平均旋转半圈.
传输时间在这里一个磁盘包含 $32$ 扇区, 文件 $8$ 个扇区, 旋转一次只能读**一个磁道**, 也就是转 $\dfrac{1}{4}$ 圈可以读完, 是 $\dfrac{1}{4} \times 5ms= 2.5ms$.
因此总时间是 $10+5+2.5=17.5$.

![[Pasted image 20241019110026.png]]

缺页中断处理后访问快表的时间可以忽略，最好加上一个括号写上两种答案.

![[Pasted image 20241019110056.png]]

# 820 2019 年
元素个数为 $n$ 的单链表原地逆转，指针赋值次数为 $2n+1$.

已知一个整数数列存在一个主元素占有一半以上的位置，找出主元素。
使用**摩尔投票法**。

设置一个临时变量和一个计数器，先将第一个元素赋值给临时变量，设置计数器为 $1$, 如果遇到了和临时变量相同的元素，计数器加一，否则减一，当计数器为 $0$ 时，设置当前元素为新的临时变量，结束后临时变量便是主元素。

将一个线性表中的数据按奇数在前，偶数在后的顺序排列。
使用**快速排序**的思想，选取第一个元素为轴，偶数移动到后面，奇数移动到前面。
```cpp
void rank(int A[], int n) {
    int pivot = A[0];
    int i = 0, j = n - 1;
    while (i < j) {
        while (A[j] % 2 == 0 && i < j) j--;
        while (A[i] % 2 != 0 && i < j) i++;
        swap(A[i], A[j]);
    }
    A[i] = pivot;
}
```

# 820 2018 年

>Os 选择题 5

![[Pasted image 20240628015624.png]]

![[Pasted image 20240825145632.png]]

![[Pasted image 20241016160755.png]]

读写者问题，由 `4` 知需要的是读写者相同优先级的写法.

```cpp
semophore w = 1, rw = 1;
int cnt = 0;
semophore mutex = 1;

writer() {
	P(w);
	P(rw);
	订票;
	V(rw);
	V(w);
}

reader() {
	P(w);
	P(mutex);
	if (cnt == 0) P(rw);
	cnt++;
	V(mutex);
	V(w);
	查询;
	P(mutex);
	cnt--;
	if (cnt == 0) V(rw);
	V(mutex);
}
```

# 820 2017 年

![[Pasted image 20241015231356.png]]

**死锁状态一定是不安全状态**, 不安全状态不代表会死锁，而安全状态一定不会死锁.

![[Pasted image 20240913170951.png]]

线索二叉树是物理结构.

![[Pasted image 20240917211108.png]]

由**延迟时间**决定.

# 820 2016 年

![[Pasted image 20240913165751.png]]

这里的地址空间指的是逻辑地址，还剩 $52$ 位，因此是 $52 / 9=6$ 级.

![[Pasted image 20241015190917.png]]

![[Pasted image 20241015190906.png]]

中序线索的绘制

![[Pasted image 20241015191451.png]]

![[Pasted image 20241015191457.png]]

注意插入 $15$ 这里，此时 $30$ 和 $10$ 都失衡，只需要调整 $10$, 对 $10$ 来说是 $RL$.

# 820 2015 年


![[Pasted image 20240909152856.png]]

填 $1,1$.
符号链接不给被链接文件加计数.

![[Pasted image 20241014214558.png]]

双缓冲的时间是 `读入时间 + (传送 + 分析) * 块数 = 200 + (200) * 10 = 2200`.

![[Pasted image 20240909153129.png]]

虚拟设备就是把一个物理设备变成多个逻辑设备，不选 $A$.

# 820 2014 年

![[Pasted image 20240906141556.png]]

效率和低存储量要求

![[Pasted image 20240906141611.png]]

线性化

![[Pasted image 20240907145355.png]]

基本的特征是并发和共享.

![[Pasted image 20241013214440.png]]

记得做题步骤

![[84a2b42dfc62a6e008b0a3b093b96867.png]]


# 820 2013 年

![[Pasted image 20241011131529.png]]

邻接矩阵的斜边元素是 `0`, 压缩存储也要存储斜边.


![[Pasted image 20240906105440.png]]

插入和冒泡在逆序下都是最坏时间复杂度，在顺序是最好时间复杂度.

![[Pasted image 20241011133451.png]]

计算失败的 `ASL` 不算最后一层的一次，也就是每个结点的搜索次数是层数 `-1`.

![[Pasted image 20240906134901.png]]

快速排序可以在双向链表中使用.

1. 可以找到第一个和最后一个结点的指针，然后通过两个指针分别从头移到尾，从尾移动到头部，通过比较和修改指针完成交换.
2. 可以找到前驱和后继，通过修改指针交换
3. 可以通过移动指针遍历，也可以交换.

![[Pasted image 20241011134403.png]]

其中的工序是有向边，而没有后继的便是指向汇点.

![[Pasted image 20241011134356.png]]

![[Pasted image 20241011145040.png]]

可知需要 $3$ 级.

页表的设置可以是 `6,8,8`, `8,6,8`, `8,8,6`.

`6,8,8` 时总数量是 $1+2^6+2^{14}$. `8,6,8` 时总数量是 $1+2^8+2^{14}$, `8,8,6` 时是 $1+2^8+2^{16}$, 所以 `6,8,8` 最好.


# 820 2012 年

![[Pasted image 20241011115430.png]]

主要目标是**方便，有效，可扩充，开放性**.

![[Pasted image 20241011121200.png]]

对于这种问题，最多的情况是有第六层，第五层铺满.
第五层铺满有 $16$ 个，也就是 $10$ 个节点有儿子，即第六层有 $20$ 个节点，总节点数是
`1+2+4+8+16+20=51` 个.

# 820 2011 年

![[Pasted image 20240904224736.png]]

固定搭配，选散列就对了.

![[Pasted image 20240904225141.png]]

快排只看元素特征即可，不用管具体是怎么换的.

![[Pasted image 20240904230213.png]]

![[Pasted image 20240904230157.png]]

![[Pasted image 20240904231502.png]]

答案是**地址映射**.

![[Pasted image 20240904231511.png]]

![[Pasted image 20240904231646.png]]

起主要作用的是**中断系统**
**分区式内存管理**

![[Pasted image 20240904231940.png]]

**互斥和请求与保持条件**.
**封闭性**和**可再现**性质.

# 820 2010 年

>Os 选择题 6

能实现紧凑技术的存储管理是**可重定位存储管理**。

紧凑技术需要移动内存中的进程。

>Os 选择题 7

文件系统的主要目的是**实现对文件的按名存取**。

>Os 多选 1

![[Pasted image 20241008201315.png]]

虚拟设备的正确描述
1. 虚拟设备和物理设备**有关**
2. 系统不知道用户知道
3. 用 $SPOOLING$ 技术实现

>Os 多选 2

在虚拟存储管理的调页技术
1. 中断请求调页
2. 预调页技术

>Os 多选 4

![[Pasted image 20241008201329.png]]

操作系统可以采取哪些方式为系统服务
1. 命令接口
2. 系统调用
3. 作业控制语言
4. 软中断

>Os 多选 5

![[Pasted image 20241008201339.png]]

对执行时间短的进程有利的算法
1. 时间片轮转
2. 多级反馈队列
3. 高相应比

![[Pasted image 20241008203530.png]]

`B` 如果理解为任意两个左右子树则错误.

![[Pasted image 20241008203546.png]]

由于没有逗号, `D` 的 `e` 可以理解为左儿子或者右儿子.

![[Pasted image 20241008203726.png]]

1. 取值和赋值
7. **链队列**

# 820 2008 年
>选择题 4

无论是循环队列还是顺序队列，判断空队列的条件都是 `front=rear`.

>填空题

为了保证二叉排序树的查找效率，在插入结点时需要作**平衡化**处理.
`Dijkstra` 算法是求**从一个点到其他所有点**的最短路径，是按路径长度的**递增**次序产生最短次序的.

>[!note] 
> `Dijkstra` 也可以求无向图.

![[Pasted image 20241008223533.png]]

控制信息在**索引节点**中.

>Os 多选题

文件在磁盘上的物理结构可以按照**顺序结构，链式结构，索引结构**组织.

>Os 填空

![[Pasted image 20241008224606.png]]

在批处理兼分时的系统中，往往由分时系统控制的作业称为**前台**作业，而批处理控制的是**后台**作业.
操作系统为用户提供两种类型的使用接口，分别是**程序接口和命令接口**.
当一个进程独占处理器运行时，具有两个特性：**封闭性和可再现性**.
`UNIX` 的 $she ll$ 有两层含义，一是指 $she ll$ 命令组成的**shell 命令语言**, 二是指其命令的解释程序.

# 820 2007 年

>判断题

已知二叉排序树的先序序列，**可以唯一确定**二叉排序树.
因为二叉排序树的中序遍历是已知的，即升序，所以只需要知道先序或者后序就可以确定了.

>Ds 简答题

完全二叉树中度为 $1$ 的结点跟总节点数的奇偶性有关，当 $n$ 为奇数，无度为一的结点，否则有一个.
给定结点编号 $m$, 当 $m > \left[ n / 2 \right]$ 时可以判断 $m$ 是叶子结点.

查找表要快速查找且要动态查找，最好使用二叉排序树.

>Os 选择

![[Pasted image 20241009194304.png]]

在 $UNIX$ 中的索引结点可以看成是**文件相关信息说明**.

![[Pasted image 20241009194518.png]]

等待队列就是**就绪队列**. 最多有 $n-1$ 进程等待. 考虑阻塞，$ACD$ 都可以.

![[Pasted image 20241009194735.png]]

分页存储管理采用**重定位**技术实现页式地址变换.
索引文件按**记录键**排序.
在有线程和进程的系统中，$CPU$ 的占用只有线程调度.

# 820 2006 年
>填空题

树是以结点的分支定义的**层次结构**，表示数据元素之间的**一对多**关系.
堆排序关键两步是**初始化堆**和**调整为堆**.
广义表难以用**顺序**存储结构，适合编写递归算法的广义表存储结构是**表头表尾链**.

>大题一

![[Pasted image 20240901212009.png]]

邻接矩阵的 $k$ 次方后 $A^k\left[ i,j \right]$ 的含义是从点 $i$ 到点 $j$ 之间长度为 $k$ 的路径的条数.
佛洛依德算法判断路径是否有回路: 如果对角线的元素不是正无穷说明有回路.
而佛洛依德算法的 $A^k[i,j]$ 的含义是从 $i$ 到 $j$ 之间最多经过 $k$ 个点的最短路径长度.

![[Pasted image 20240901212003.png]]

$AOV$ 网: 判断工程的可行性，如果有回路整个工程就无法结束. 可以确定各项活动在整个工程中执行的先后顺序.

$AOE$ 网: 确定工程的最短结束时间，能够找出关键活动.

>Os

![[Pasted image 20240901212427.png]]

即允许操作系统使用，也允许用户使用.

![[Pasted image 20240901212539.png]]

**CPU**根据中断了解情况.

![[Pasted image 20240901212659.png]]

选 $ABCE$, 可变分区管理需要**重定位寄存器**和**界址**寄存器.

![[Pasted image 20240901213152.png]]

$1,2,3$ 正确.
对于 $5$, 成组链接法用于管理空闲块.

![[Pasted image 20240901213352.png]]

**静态链接**需要共享拷贝，动态链接不需要共享.
基本任务是**缓冲管理, 设备分配, 设备处理**.
索引结点，指向该文件对应索引结点的指针.

# 820 2005 年

![[Pasted image 20240903191212.png]]

二叉树总度数, 即边数等于节点数 $-1$, 即
$n_{0}+n_{1}+n_{2}+n_{3}=n_{1}+2n_{2}+3n_{3}+1$. 故 $n_{0}=n_{2}+2n_{3}+1$.

![[Pasted image 20240903191548.png]]
这是一个递归结构，深度为**无穷**.

![[Pasted image 20240903193308.png]]
$UNIX$ 文件管理中的索引结点指的是 $i$ 结点和**文件描述信息**.

![[Pasted image 20240903194616.png]]
不选 $E$.

![[Pasted image 20240903194653.png]]
不选 $CE$.

![[Pasted image 20240903194748.png]] 
管程不会导致死锁.

![[Pasted image 20240903195132.png]]
1. 利用**中断硬件**装置, 字节
2. **操作系统**, **逻辑设备表**
3. 基地址和界地址
4. 保护现场，分析**中断发生的原因**和处理**中断事件**
5. 利用**共享设备**模拟**独占设备**，有一定的**硬件和软件**基础，**联机的外围设备同时操作**，$SPOOLING$.

# 820 2004 年
![[Pasted image 20240903201137.png]]

使用 $DFS$, 有回路会访问已经访问过的点.

![[Pasted image 20240903203034.png]]

**覆盖，交换，请求分页**都可以提供虚拟内存.

![[Pasted image 20240903203446.png]]
可变分区不能紧凑.

![[Pasted image 20240903203706.png]]
存储保护和扩充主存容量.

![[Pasted image 20240903203836.png]]
划分为若干**进程**，实现**服务**.

$$
A=\int^{1}_{0}\sin x^2 dx, B= \int^{1}_{0} (\sin x)^2 dx 
$$